<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="LF or CRLF error of git commit in windows : LF or CRLF error of git commit in windows">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>LF or CRLF error of git commit in windows</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/d890503/luckyStar">View on GitHub</a>

          <h1 id="project_title">LF or CRLF error of git commit in windows</h1>
          <h2 id="project_tagline">LF or CRLF error of git commit in windows</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/d890503/luckyStar/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/d890503/luckyStar/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>[git] warning: LF will be replaced by CRLF | fatal: CRLF would be replaced by LF
遇到这两个错误， 基本上都是叫你将 autocrlf 设置为 false. 但是我觉得这样很不妥。</p>

<p>如果你的源文件中是换行符是LF，而autocrlf=true, 此时git add就会遇到 fatal: LF would be replaced by CRLF 的错误。有两个解决办法：
1. 将你的源文件中的LF转为CRLF即可【推荐】
2. 将autocrlf 设置为 false</p>

<p>如果你的源文件中是换行符是CRLF，而autocrlf=input,  此时git add也会遇到 fatal: CRLF would be replaced by LF 的错误。有两个解决办法：
1. 将你源文件中的CRLF转为LF【推荐】
2. 将autocrlf 设置为true 或者 false</p>

<h2>
<a id="我的建议在mac上设置-autocrlf--input-在windows上设置autocrlf--true默认值" class="anchor" href="#%E6%88%91%E7%9A%84%E5%BB%BA%E8%AE%AE%E5%9C%A8mac%E4%B8%8A%E8%AE%BE%E7%BD%AE-autocrlf--input-%E5%9C%A8windows%E4%B8%8A%E8%AE%BE%E7%BD%AEautocrlf--true%E9%BB%98%E8%AE%A4%E5%80%BC" aria-hidden="true"><span class="octicon octicon-link"></span></a>我的建议：在Mac上设置 autocrlf = input, 在Windows上设置autocrlf = true（默认值）。</h2>

<p>这样的话，
Windows：（true）
提交时，将CRLF 转成 LF再提交；
切出时，自动将LF 转为 CRLF;</p>

<p>MAC/Linux:  (input)
提交时,   将CRLF 转成 LF再提交；
切出时，保持LF即可</p>

<h2>
<a id="这样即可保证仓库中永远都是lf-而且在windows工作空间都是crlf-在maclinux工作空间都是lf" class="anchor" href="#%E8%BF%99%E6%A0%B7%E5%8D%B3%E5%8F%AF%E4%BF%9D%E8%AF%81%E4%BB%93%E5%BA%93%E4%B8%AD%E6%B0%B8%E8%BF%9C%E9%83%BD%E6%98%AFlf-%E8%80%8C%E4%B8%94%E5%9C%A8windows%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E9%83%BD%E6%98%AFcrlf-%E5%9C%A8maclinux%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E9%83%BD%E6%98%AFlf" aria-hidden="true"><span class="octicon octicon-link"></span></a>这样即可保证仓库中永远都是LF. 而且在Windows工作空间都是CRLF, 在Mac/Linux工作空间都是LF.</h2>

<p>解决方法：</p>

<p>找到win项目的.git目录,修改config文件，在[core]配置项添加下面一句话，就ok了。</p>

<h2>
<a id="autocrlf--false" class="anchor" href="#autocrlf--false" aria-hidden="true"><span class="octicon octicon-link"></span></a>autocrlf = false</h2>

<p>core.autocrlf</p>

<p>假如你正在Windows上写程序，又或者你正在和其他人合作，他们在Windows上编程，而你却在其他系统上，在这些情况下，你可能会遇到行尾结束符问题。这是因为Windows使用回车和换行两个字符来结束一行，而Mac和Linux只使用换行一个字符。虽然这是小问题，但它会极大地扰乱跨平台协作。</p>

<p>Git可以在你提交时自动地把行结束符CRLF转换成LF，而在签出代码时把LF转换成CRLF。用core.autocrlf来打开此项功能，如果是在Windows系统上，把它设置成true，这样当签出代码时，LF会被转换成CRLF：</p>

<p>$ git config --global core.autocrlf true
Linux或Mac系统使用LF作为行结束符，因此你不想 Git 在签出文件时进行自动的转换；当一个以CRLF为行结束符的文件不小心被引入时你肯定想进行修正，把core.autocrlf设置成input来告诉 Git 在提交时把CRLF转换成LF，签出时不转换：</p>

<p>$ git config --global core.autocrlf input
这样会在Windows系统上的签出文件中保留CRLF，会在Mac和Linux系统上，包括仓库中保留LF。</p>

<p>如果你是Windows程序员，且正在开发仅运行在Windows上的项目，可以设置false取消此功能，把回车符记录在库中：</p>

<p>$ git config --global core.autocrlf false</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">LF or CRLF error of git commit in windows maintained by <a href="https://github.com/d890503">d890503</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
